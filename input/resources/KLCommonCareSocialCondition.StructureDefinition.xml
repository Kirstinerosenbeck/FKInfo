<StructureDefinition xmlns="http://hl7.org/fhir">
    <id value="common-caresocial-condition" />
    <meta>
        <lastUpdated value="2020-05-18T15:10:01.231+00:00" />
    </meta>
    <url value="http://kl.dk/fhir/common/caresocial/StructureDefinition/common-care-social-condition" />
    <version value="0.9" />
    <name value="CommonCareSocialCondition" />
    <status value="draft" />
    <date value="2020-05-18T15:10:01.231+00:00" />
    <description value="The KL Common Social Care Codition is a general information model pattern for danish municipality conditions" />
    <fhirVersion value="4.0.0" />
    <mapping>
        <identity value="workflow" />
        <uri value="http://hl7.org/fhir/workflow" />
        <name value="Workflow Pattern" />
    </mapping>
    <mapping>
        <identity value="sct-concept" />
        <uri value="http://snomed.info/conceptdomain" />
        <name value="SNOMED CT Concept Domain Binding" />
    </mapping>
    <mapping>
        <identity value="v2" />
        <uri value="http://hl7.org/v2" />
        <name value="HL7 v2 Mapping" />
    </mapping>
    <mapping>
        <identity value="rim" />
        <uri value="http://hl7.org/v3" />
        <name value="RIM Mapping" />
    </mapping>
    <mapping>
        <identity value="w5" />
        <uri value="http://hl7.org/fhir/fivews" />
        <name value="FiveWs Pattern Mapping" />
    </mapping>
    <mapping>
        <identity value="sct-attr" />
        <uri value="http://snomed.org/attributebinding" />
        <name value="SNOMED CT Attribute Binding" />
    </mapping>
    <kind value="resource" />
    <abstract value="false" />
    <type value="Condition" />
    <baseDefinition value="http://hl7.org/fhir/StructureDefinition/Condition" />
    <derivation value="constraint" />
    <differential>
        <element id="Condition">
            <path value="Condition" />
            <short value="Detailed information about conditions in Danish municiplities health, social and elderly care" />
            <definition value="A condition of a citizen that has risen to a level of concern." />
            <constraint>
                <key value="severity-conditionally-permitted" />
                <requirements value="Severity is not permitted for health conditions" />
                <severity value="error" />
                <human value="Severity is required for functional conditions and optional for other conditions" />
                <expression value="(severity.empty().not() and (code.coding.system = 'http://kl.healthterm.dk/functional-condition'))" />
                <source value="Condition" />
            </constraint>
        <element id="Condition.code.coding:">
        <path value="Condition.code.coding"/>
        <slicing>
                <discriminator>
                    <type value="value" />
                    <path value="system" />
                </discriminator>
                <ordered value="false"/>
                <rules value="open" />
            </slicing>
            
        </element>
<element id="Condition.code.coding:KLConditionCode">
    <path value="Condition.code.coding"/>
    <sliceName value="KLConditionCode"/>
    <min value="1"/>
    <max value="1"/>
    <binding>
        <strength value="required"/>
        <description value="KL conditions. Can either be conditions for nursing, home care, rehabilitation/training, health promotion and prevention and social care"/>
        <valueset value="http://klterminology/ValueSet/condition-code"/>
    </binding>
 </element>
<element id="Condition.code.coding:KLConditionCode.system">
    <path value="Codition.code.coding.system"/>
    <min value="1"/>
    <max value="1"/>
    <type>
        <code value="uri"/>
    </type>
    <fixedUri value="http://klterminology"/>
</element>
<element id="Condition.code.coding:SNOMEDCTConditionCode">
    <path value="Condition.code.coding"/>
    <sliceName value="SNOMEDCTConditionCode"/>
    <min value="0"/>
    <max value="1"/>
    <binding>
        <strength value="required"/>
        <description value="SNOMED CT code for Conditions, especially used when needing to express more granualar concepts than the KLConditionCode, or when the KLConditionCode mapping to SNOMED Ct is not available"/>
        <valueset value="http://hl7.org/fhir/ValueSet/condition-code"/>
    </binding>
 </element>
    </differential>
</StructureDefinition>